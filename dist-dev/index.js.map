{
  "version": 3,
  "sources": ["../server/index.ts", "../server/routes.ts", "../server/auth.ts", "../shared/schema.ts", "../server/storage.ts", "../server/perplexity.ts", "../server/vite.ts", "../vite.config.ts"],
  "sourcesContent": ["import 'dotenv/config';\nimport express, { type Request, Response, NextFunction } from \"express\";\nimport session from 'express-session';\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\n// Session middleware configuration\napp.use(\n  session({\n    secret: process.env.SESSION_SECRET || 'a_very_secret_cat_keyboard_string',\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      secure: process.env.NODE_ENV === 'production', // Use secure cookies in production\n      httpOnly: true, // Helps prevent XSS\n      maxAge: 24 * 60 * 60 * 1000 // 24 hours\n    }\n  })\n);\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"\u2026\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on port 5001\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = 5001;\n  server.listen({\n    port,\n    host: \"127.0.0.1\"\n  }, () => {\n    log(`\uD83D\uDE80 Server ready at http://127.0.0.1:${port}`);\n  });\n})();\n", "import type { Express, Request, Response, NextFunction } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage.ts\";\nimport { setupAuth } from \"./auth.ts\";\nimport { \n  insertPlantSchema, \n  insertCareLogSchema, \n  insertReminderSchema, \n  User as AppUser \n} from \"@shared/schema\";\nimport { \n  getAIRecommendation, \n  suggestWateringFrequency, \n  getBasicCareInstructions \n} from \"./perplexity\";\nimport { z } from \"zod\";\nimport { add } from \"date-fns\";\n\n// Extend Express Request type to include the user property\ninterface AuthenticatedRequest extends Request {\n  user?: AppUser; \n}\n\n// Middleware to check if user is authenticated\nconst isAuthenticated = (req: AuthenticatedRequest, res: Response, next: NextFunction) => {\n  if (req.user && req.user.id) { \n    return next();\n  }\n  res.status(401).json({ message: \"Unauthorized\" });\n};\n\n// Schema for the request body of the basic reminder creation route\nconst createBasicReminderBodySchema = z.object({\n  reminderType: z.string(), \n  dueDate: z.coerce.date(),    \n});\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Setup authentication routes and middleware\n  setupAuth(app); \n  \n  // Route to get the current authenticated application user\n  app.get(\"/api/auth/me\", isAuthenticated, (req: AuthenticatedRequest, res: Response) => {\n    // isAuthenticated middleware ensures req.user is populated if token is valid\n    // req.user here is the AppUser from our database\n    res.json({ data: req.user }); \n  });\n\n  // Plant routes\n  app.get(\"/api/plants\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const userId = req.user!.id; \n      const plants = await storage.getPlantsByUserId(userId);\n      res.json(plants);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch plants\", error });\n    }\n  });\n  \n  app.get(\"/api/plants/:id\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const plantId = parseInt(req.params.id, 10);\n      if (isNaN(plantId)) {\n        return res.status(400).json({ message: \"Invalid plant ID format\" });\n      }\n      const plant = await storage.getPlant(plantId);\n      \n      if (!plant) {\n        return res.status(404).json({ message: \"Plant not found\" });\n      }\n      \n      const userId = req.user!.id;\n      if (plant.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      res.json(plant);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch plant\", error });\n    }\n  });\n  \n  app.post(\"/api/plants\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const userId = req.user!.id;\n      \n      // Extract data from the request\n      const requestData = { ...req.body, userId };\n      \n      // If waterFrequency is not provided, suggest it based on plant name and species\n      if (!requestData.waterFrequency) {\n        requestData.waterFrequency = suggestWateringFrequency(\n          requestData.name, \n          requestData.species\n        );\n      }\n      \n      // Validate the plant data\n      const validation = insertPlantSchema.safeParse(requestData);\n      \n      if (!validation.success) {\n        console.error(\"Plant data validation failed:\", validation.error.flatten().fieldErrors);\n        return res.status(400).json({ \n          message: \"Invalid plant data\", \n          errors: validation.error.flatten().fieldErrors \n        });\n      }\n      \n      // Create the plant\n      const plant = await storage.createPlant(validation.data);\n      \n      // Auto-generate care instructions and create an AI recommendation\n      const careInstructions = getBasicCareInstructions(plant.name, plant.species);\n      \n      // Create a title for the care instructions\n      const title = `Care Guide for ${plant.name}`;\n      \n      // Extract tags from the care instructions\n      const tags = [\"watering\", \"light\", \"care\", \"basic\"];\n      \n      // Store the recommendation\n      await storage.createAiRecommendation({\n        userId,\n        plantId: plant.id,\n        title,\n        content: careInstructions,\n        tags\n      });\n      \n      res.status(201).json(plant);\n    } catch (error) {\n      console.error(\"Error in POST /api/plants:\", error);\n      res.status(500).json({ message: \"Failed to create plant\", error });\n    }\n  });\n  \n  app.put(\"/api/plants/:id\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const plantId = parseInt(req.params.id, 10);\n      if (isNaN(plantId)) {\n        return res.status(400).json({ message: \"Invalid plant ID format\" });\n      }\n      const plant = await storage.getPlant(plantId);\n      \n      if (!plant) {\n        return res.status(404).json({ message: \"Plant not found\" });\n      }\n      \n      const userId = req.user!.id;\n      if (plant.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      const updatedPlant = await storage.updatePlant(plantId, req.body);\n      res.json(updatedPlant);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update plant\", error });\n    }\n  });\n  \n  app.delete(\"/api/plants/:id\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const plantId = parseInt(req.params.id, 10);\n      if (isNaN(plantId)) {\n        return res.status(400).json({ message: \"Invalid plant ID format\" });\n      }\n      const plant = await storage.getPlant(plantId);\n      \n      if (!plant) {\n        return res.status(404).json({ message: \"Plant not found\" });\n      }\n      \n      const userId = req.user!.id;\n      if (plant.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      const deleted = await storage.deletePlant(plantId);\n      if (deleted) {\n        res.status(204).send();\n      } else {\n        res.status(500).json({ message: \"Failed to delete plant\" });\n      }\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete plant\", error });\n    }\n  });\n  \n  // Care log routes\n  app.get(\"/api/plants/:id/care-logs\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const plantId = parseInt(req.params.id, 10);\n      if (isNaN(plantId)) {\n        return res.status(400).json({ message: \"Invalid plant ID format\" });\n      }\n      const plant = await storage.getPlant(plantId);\n      \n      if (!plant) {\n        return res.status(404).json({ message: \"Plant not found\" });\n      }\n      \n      const userId = req.user!.id;\n      if (plant.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      const careLogs = await storage.getCareLogsByPlantId(plantId);\n      res.json(careLogs);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch care logs\", error });\n    }\n  });\n  \n  app.post(\"/api/care-logs\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const userId = req.user!.id;\n      const validation = insertCareLogSchema.safeParse({ ...req.body, userId });\n      \n      if (!validation.success) {\n        return res.status(400).json({ message: \"Invalid care log data\", errors: validation.error.flatten().fieldErrors });\n      }\n      \n      // plantId from validation.data is already a number due to schema validation\n      const plantId = validation.data.plantId;\n      \n      const plant = await storage.getPlant(plantId);\n      if (!plant) {\n        return res.status(404).json({ message: \"Plant not found\" });\n      }\n      \n      if (plant.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      const careLog = await storage.createCareLog(validation.data);\n      res.status(201).json(careLog);\n    } catch (error) {\n      console.error(\"Error in POST /api/care-logs:\", error);\n      res.status(500).json({ message: \"Failed to add care log\", error });\n    }\n  });\n  \n  app.put(\"/api/care-logs/:logId\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const logId = parseInt(req.params.logId, 10);\n      if (isNaN(logId)) {\n        return res.status(400).json({ message: \"Invalid log ID format\" });\n      }\n      const careLog = await storage.getCareLogById(logId);\n      \n      if (!careLog) {\n        return res.status(404).json({ message: \"Care log not found\" });\n      }\n      \n      const userId = req.user!.id;\n      if (careLog.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      const updatedCareLog = await storage.updateCareLog(logId, req.body);\n      res.json(updatedCareLog);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update care log\", error });\n    }\n  });\n  \n  app.delete(\"/api/care-logs/:logId\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const logId = parseInt(req.params.logId, 10);\n      if (isNaN(logId)) {\n        return res.status(400).json({ message: \"Invalid log ID format\" });\n      }\n      const careLog = await storage.getCareLogById(logId);\n      \n      if (!careLog) {\n        return res.status(404).json({ message: \"Care log not found\" });\n      }\n      \n      const userId = req.user!.id;\n      if (careLog.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      const deleted = await storage.deleteCareLog(logId);\n      if (deleted) {\n        res.status(204).send();\n      } else {\n        res.status(500).json({ message: \"Failed to delete care log\" });\n      }\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete care log\", error });\n    }\n  });\n  \n  // Reminder routes\n  app.get(\"/api/plants/:id/reminders\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const plantId = parseInt(req.params.id, 10);\n      if (isNaN(plantId)) {\n        return res.status(400).json({ message: \"Invalid plant ID format\" });\n      }\n      const reminders = await storage.getRemindersByPlantId(plantId);\n      res.json(reminders);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch reminders\", error });\n    }\n  });\n  \n  app.post(\"/api/plants/:plantId/reminders/basic\", isAuthenticated, async (req: AuthenticatedRequest, res) => {\n    try {\n      const userId = req.user!.id;\n      const plantIdParams = parseInt(req.params.plantId, 10);\n\n      if (isNaN(plantIdParams)) {\n        return res.status(400).json({ message: \"Invalid plant ID format\" });\n      }\n\n      const validation = createBasicReminderBodySchema.safeParse(req.body);\n\n      if (!validation.success) {\n        return res.status(400).json({ message: \"Invalid input\", errors: validation.error.issues });\n      }\n      \n      const plant = await storage.getPlant(plantIdParams);\n      if (!plant) {\n        return res.status(404).json({ message: \"Plant not found\" });\n      }\n      \n      if (plant.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      await storage.createReminder({\n        userId,\n        plantId: plantIdParams,\n        reminderType: validation.data.reminderType,\n        dueDate: validation.data.dueDate, // Pass dueDate\n      });\n      res.status(201).json({ message: \"Basic reminder created successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to create reminder\", error });\n    }\n  });\n  \n  app.post(\"/api/plants/:plantId/reminders\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const plantId = parseInt(req.params.plantId, 10);\n      if (isNaN(plantId)) {\n        return res.status(400).json({ message: \"Invalid plant ID format\" });\n      }\n      const userId = req.user!.id;\n\n      // Validate that the plant exists and belongs to the user\n      const plant = await storage.getPlant(plantId);\n      if (!plant || plant.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden or plant not found\" });\n      }\n\n      const reminderData = { ...req.body, plantId, userId }; \n      const validation = insertReminderSchema.safeParse(reminderData); \n      \n      if (!validation.success) {\n        return res.status(400).json({ message: \"Invalid reminder data\", errors: validation.error.flatten().fieldErrors });\n      }\n      \n      const reminder = await storage.createReminder(validation.data);\n      res.status(201).json(reminder);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to create reminder\", error });\n    }\n  });\n  \n  app.put(\"/api/reminders/:reminderId\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const reminderId = parseInt(req.params.reminderId, 10);\n      if (isNaN(reminderId)) {\n        return res.status(400).json({ message: \"Invalid reminder ID format\" });\n      }\n      const reminder = await storage.getReminderById(reminderId);\n      \n      if (!reminder) {\n        return res.status(404).json({ message: \"Reminder not found\" });\n      }\n      \n      const userId = req.user!.id;\n      if (reminder.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      const updatedReminder = await storage.updateReminder(reminderId, req.body);\n      res.json(updatedReminder);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update reminder\", error });\n    }\n  });\n  \n  app.delete(\"/api/reminders/:reminderId\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const reminderId = parseInt(req.params.reminderId, 10);\n      if (isNaN(reminderId)) {\n        return res.status(400).json({ message: \"Invalid reminder ID format\" });\n      }\n      const reminder = await storage.getReminderById(reminderId);\n      \n      if (!reminder) {\n        return res.status(404).json({ message: \"Reminder not found\" });\n      }\n      \n      const userId = req.user!.id;\n      if (reminder.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      const deleted = await storage.deleteReminder(reminderId);\n      if (deleted) {\n        res.status(204).send();\n      } else {\n        res.status(500).json({ message: \"Failed to delete reminder\" });\n      }\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete reminder\", error });\n    }\n  });\n  \n  // AI Recommendation routes\n  app.get(\"/api/ai-recommendations\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const userId = req.user!.id;\n      const recommendations = await storage.getAiRecommendationsByUserId(userId);\n      res.json(recommendations);\n    } catch (error) {\n      console.error(\"Error in GET /api/ai-recommendations:\", error);\n      res.status(500).json({ message: \"Failed to fetch AI recommendations\", error });\n    }\n  });\n\n  app.post(\"/api/ai-recommendations/generate\", isAuthenticated, async (req: AuthenticatedRequest, res) => { \n    try {\n      const requestSchema = z.object({\n        plantId: z.number().optional(),\n        plantName: z.string(),\n        plantSpecies: z.string().optional(),\n        careIssue: z.string().optional(),\n        plantDescription: z.string().optional()\n      });\n      \n      const validation = requestSchema.safeParse(req.body);\n      if (!validation.success) {\n        return res.status(400).json({ message: \"Invalid request data\", errors: validation.error });\n      }\n      \n      const userId = req.user!.id;\n      const { plantId, plantName, plantSpecies, careIssue, plantDescription } = validation.data;\n      \n      // If plantId is provided, verify the plant belongs to the user\n      if (plantId) {\n        const plant = await storage.getPlant(plantId);\n        if (!plant) {\n          return res.status(404).json({ message: \"Plant not found\" });\n        }\n        \n        if (plant.userId !== userId) {\n          return res.status(403).json({ message: \"Forbidden\" });\n        }\n      }\n      \n      // Get AI recommendation\n      const aiResponse = await getAIRecommendation({\n        plantName,\n        plantSpecies,\n        careIssue,\n        plantDescription\n      });\n      \n      // Create a title from the plant name and issue\n      let title = `Care tips for your ${plantName}`;\n      if (careIssue) {\n        title = `${plantName}: ${careIssue.slice(0, 1).toUpperCase() + careIssue.slice(1)}`;\n      }\n      \n      // Store the recommendation\n      const recommendation = await storage.createAiRecommendation({\n        userId,\n        plantId: plantId,\n        title,\n        content: aiResponse.content,\n        tags: aiResponse.tags\n      });\n      \n      res.status(201).json(recommendation);\n    } catch (error) {\n      console.error(\"AI recommendation error:\", error);\n      res.status(500).json({ message: \"Failed to generate AI recommendation\", error });\n    }\n  });\n\n  // Delete an AI recommendation\n  app.delete(\"/api/ai-recommendations/:id\", isAuthenticated, async (req: AuthenticatedRequest, res: Response) => {\n    try {\n      const recommendationId = parseInt(req.params.id, 10);\n      if (isNaN(recommendationId)) {\n        return res.status(400).json({ message: \"Invalid recommendation ID format\" });\n      }\n\n      const userId = req.user!.id;\n      const recommendation = await storage.getAiRecommendationById(recommendationId);\n\n      if (!recommendation) {\n        return res.status(404).json({ message: \"Recommendation not found\" });\n      }\n\n      if (recommendation.userId !== userId) {\n        // To prevent leaking information about existence, also return 404\n        // Or, if explicit authorization error is preferred: return res.status(403).json({ message: \"Forbidden\" });\n        return res.status(404).json({ message: \"Recommendation not found or not authorized\" });\n      }\n\n      const deleted = await storage.deleteAiRecommendation(recommendationId);\n      if (deleted) {\n        res.status(204).send(); // Successfully deleted, no content to return\n      } else {\n        // This case might occur if the item was deleted by another request between fetch and delete,\n        // or if there's a db issue not throwing an error but failing to delete.\n        res.status(404).json({ message: \"Recommendation not found or could not be deleted\" });\n      }\n    } catch (error) {\n      console.error(`Error in DELETE /api/ai-recommendations/${req.params.id}:`, error);\n      res.status(500).json({ message: \"Failed to delete AI recommendation\", error: (error as Error).message });\n    }\n  });\n\n  app.post(\"/api/ai-recommendations/:id/read\", isAuthenticated, async (req: AuthenticatedRequest, res: Response) => { \n    try {\n      const recommendationId = parseInt(req.params.id, 10);\n      if (isNaN(recommendationId)) {\n        return res.status(400).json({ message: \"Invalid recommendation ID format\" });\n      }\n      \n      const recommendation = await storage.getAiRecommendationById(recommendationId); \n      if (!recommendation) {\n        return res.status(404).json({ message: \"Recommendation not found\" });\n      }\n\n      const userId = req.user!.id;\n\n      if (recommendation.userId !== userId) {\n        return res.status(403).json({ message: \"Forbidden\" });\n      }\n      \n      const updatedRecommendation = await storage.updateAiRecommendationReadStatus(recommendationId, true);\n      res.json(updatedRecommendation);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to mark recommendation as read\", error });\n    }\n  });\n\n  // User routes\n  app.get(\"/api/user\", isAuthenticated, async (req: AuthenticatedRequest, res: Response) => {\n    // The isAuthenticated middleware ensures that req.user is populated.\n    // If req.user exists, it means the token was valid, and authMiddleware\n    // successfully fetched or created the application user.\n    if (req.user) {\n      res.json(req.user);\n    } else {\n      // This case should ideally not be reached if isAuthenticated and authMiddleware work correctly.\n      // It implies a potential issue in the auth flow upstream.\n      console.error(\"[/api/user] Error: req.user is undefined even after isAuthenticated. Check authMiddleware.\");\n      res.status(404).json({ message: \"User profile not found after authentication.\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n", "import { createClient, SupabaseClient } from '@supabase/supabase-js';\nimport type { Request, Response, NextFunction, Express } from 'express';\nimport { drizzle } from 'drizzle-orm/node-postgres';\nimport pg from 'pg';\nconst { Pool } = pg;\nimport * as schema from '@shared/schema';\nimport { eq } from 'drizzle-orm';\n\n// Ensure these are set in your .env file for the server\nconst supabaseUrl = process.env.SUPABASE_URL;\nconst supabaseAnonKey = process.env.SUPABASE_ANON_KEY;\nconst databaseUrl = process.env.DATABASE_URL; // For Drizzle to connect to Supabase DB\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  console.error('Server-side Supabase URL or Anon Key is missing from environment variables.');\n  // Optionally throw an error to prevent server startup without essential config\n  // throw new Error('Server-side Supabase URL or Anon Key is missing.');\n}\n\nif (!databaseUrl) {\n  console.error('DATABASE_URL is missing from environment variables for Drizzle.');\n  // Optionally throw an error\n  // throw new Error('DATABASE_URL is missing.');\n}\n\nlet supabase: SupabaseClient;\nif (supabaseUrl && supabaseAnonKey) {\n  supabase = createClient(supabaseUrl, supabaseAnonKey);\n} else {\n  // Fallback or error handling if Supabase client can't be initialized\n  console.error('Supabase client could not be initialized on the server.');\n  // Create a dummy client or throw to prevent routes from using an undefined client\n  // This is a placeholder; adjust error handling as needed.\n  supabase = {} as SupabaseClient; \n}\n\nlet db: ReturnType<typeof drizzle<typeof schema>>;\nif (databaseUrl) {\n  const pool = new Pool({\n    connectionString: databaseUrl,\n  });\n  db = drizzle(pool, { schema });\n} else {\n  console.error('Drizzle client could not be initialized on the server.');\n  db = {} as ReturnType<typeof drizzle<typeof schema>>;\n}\n\ninterface AuthenticatedRequest extends Request {\n  user?: schema.User; // User from our database\n}\n\nexport const authMiddleware = async (req: AuthenticatedRequest, res: Response, next: NextFunction) => {\n  console.log('[AuthMiddleware] Entered. Path:', req.path);\n  if (!supabase || Object.keys(supabase).length === 0) {\n    console.error('[AuthMiddleware] Supabase client not available.');\n    return res.status(500).json({ message: 'Authentication service not configured.' });\n  }\n  if (!db || Object.keys(db).length === 0) {\n    console.error('[AuthMiddleware] Database client not available.');\n    return res.status(500).json({ message: 'Database service not configured.' });\n  }\n\n  const authHeader = req.headers.authorization;\n  console.log('[AuthMiddleware] Auth header:', authHeader ? authHeader.substring(0, 15) + '...' : 'Not present');\n\n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\n    console.log('[AuthMiddleware] No Bearer token. Proceeding as unauthenticated.');\n    return next();\n  }\n\n  const token = authHeader.split(' ')[1];\n  console.log('[AuthMiddleware] Token extracted.');\n\n  try {\n    console.log('[AuthMiddleware] Attempting supabase.auth.getUser(token)...');\n    const { data: { user: supabaseUser }, error: supabaseError } = await supabase.auth.getUser(token);\n\n    if (supabaseError) {\n      console.warn('[AuthMiddleware] Supabase token validation error:', supabaseError.message);\n      return next(); \n    }\n    if (!supabaseUser) {\n      console.warn('[AuthMiddleware] Supabase token valid, but no user returned by Supabase.');\n      return next(); \n    }\n    \n    console.log(`[AuthMiddleware] Supabase user successfully retrieved: ${supabaseUser.id}, Email: ${supabaseUser.email}`);\n\n    console.log(`[AuthMiddleware] Looking for application user with supabase_auth_id: ${supabaseUser.id}`);\n    const appUsers = await db.select().from(schema.users).where(eq(schema.users.supabase_auth_id, supabaseUser.id)).limit(1);\n\n    if (appUsers.length > 0) {\n      req.user = appUsers[0];\n      console.log(`[AuthMiddleware] Found existing application user: ${req.user.username} (ID: ${req.user.id}). Setting req.user.`);\n    } else {\n      console.log(`[AuthMiddleware] Application user not found for Supabase ID: ${supabaseUser.id}. Checking by email and potentially auto-creating.`);\n      // User exists in Supabase Auth but not in our public.users table (or not linked).\n      // First, try to find user by email from Supabase\n      if (supabaseUser.email) {\n        console.log(`[AuthMiddleware] Attempting to find user by email: ${supabaseUser.email}`);\n        const usersByEmail = await db.select().from(schema.users).where(eq(schema.users.email, supabaseUser.email)).limit(1);\n        if (usersByEmail.length > 0) {\n          const existingUser = usersByEmail[0];\n          console.log(`[AuthMiddleware] Found existing user by email: ${existingUser.username} (ID: ${existingUser.id}). Linking Supabase ID.`);\n          // Update this user's supabase_auth_id\n          const updatedUsers = await db.update(schema.users)\n            .set({ supabase_auth_id: supabaseUser.id })\n            .where(eq(schema.users.id, existingUser.id))\n            .returning();\n          if (updatedUsers.length > 0) {\n            req.user = updatedUsers[0];\n            console.log(`[AuthMiddleware] Successfully linked Supabase ID ${supabaseUser.id} to user ${req.user.username}. Setting req.user.`);\n          } else {\n            console.error(`[AuthMiddleware] Failed to update supabase_auth_id for user ID ${existingUser.id}.`);\n            // Potentially proceed to create new user or handle error differently\n          }\n        } else {\n          console.log(`[AuthMiddleware] No user found with email ${supabaseUser.email}. Proceeding to create new user.`);\n          // No user by email, proceed with new user creation\n          await createNewApplicationUser(db, supabaseUser, req);\n        }\n      } else {\n        console.warn('[AuthMiddleware] Supabase user has no email. Cannot check by email, proceeding to create new user based on Supabase ID only.');\n        // No email from Supabase, proceed with new user creation logic as before\n        await createNewApplicationUser(db, supabaseUser, req);\n      }\n    }\n    console.log('[AuthMiddleware] Proceeding to next middleware/route. req.user is currently:', req.user ? { id: req.user.id, username: req.user.username } : undefined);\n    next();\n  } catch (error) {\n    console.error('[AuthMiddleware] Unexpected error:', error);\n    next(error); \n  }\n};\n\n// Helper function to create a new application user\nasync function createNewApplicationUser(db: ReturnType<typeof drizzle<typeof schema>>, supabaseUser: any, req: AuthenticatedRequest) {\n  try {\n    let newUsername = supabaseUser.email ? supabaseUser.email.split('@')[0] : `user_${supabaseUser.id.substring(0, 8)}`;\n    console.log(`[AuthMiddleware-Create] Generated initial username: ${newUsername}`);\n    \n    const newUserPayload: schema.InsertUser = {\n      supabase_auth_id: supabaseUser.id,\n      username: newUsername,\n    };\n    if (supabaseUser.email) {\n      newUserPayload.email = supabaseUser.email;\n    }\n\n    console.log(`[AuthMiddleware-Create] Checking if username '${newUserPayload.username}' exists.`);\n    let usernameExists = await db.select().from(schema.users).where(eq(schema.users.username, newUserPayload.username)).limit(1);\n    if (usernameExists.length > 0) {\n      const randomSuffix = Math.random().toString(36).substring(2, 7);\n      newUserPayload.username = `${newUserPayload.username}_${randomSuffix}`;\n      console.warn(`[AuthMiddleware-Create] Generated username ${newUsername} already exists. Appended suffix, new username: ${newUserPayload.username}`);\n    }\n\n    console.log('[AuthMiddleware-Create] Attempting to insert new user with payload:', newUserPayload);\n    const createdUsers = await db.insert(schema.users)\n      .values(newUserPayload)\n      .returning();\n    \n    if (createdUsers.length > 0) {\n      req.user = createdUsers[0];\n      console.log(`[AuthMiddleware-Create] Successfully created and set application user: ${req.user.username} (ID: ${req.user.id}). Setting req.user.`);\n    } else {\n      console.error(`[AuthMiddleware-Create] Failed to create application user for Supabase ID: ${supabaseUser.id} after insert returned empty.`);\n    }\n  } catch (insertError) {\n    console.error(`[AuthMiddleware-Create] Error auto-creating user for Supabase ID ${supabaseUser.id}:`, insertError);\n    // Do not set req.user if creation fails\n  }\n}\n\nexport function setupAuth(app: Express) {\n  app.use(authMiddleware);\n  // Potentially add other auth-related routes here if needed, e.g., /auth/logout (though Supabase logout is client-side)\n}\n\n// Export the db instance for storage.ts to use\nexport { db };\n", "import { pgTable, text, serial, integer, boolean, timestamp, json } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// User table\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  supabase_auth_id: text(\"supabase_auth_id\").unique().notNull(),\n  username: text(\"username\").notNull().unique(),\n  email: text(\"email\").unique(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  email: true,\n  supabase_auth_id: true,\n});\n\n// Credentials for login\nexport const LoginCredentialsSchema = z.object({\n  email: z.string().email({ message: \"Invalid email address\" }),\n  password: z.string().min(1, { message: \"Password cannot be empty\" }),\n});\nexport type LoginCredentials = z.infer<typeof LoginCredentialsSchema>;\n\n// Credentials for registration\nexport const RegisterCredentialsSchema = z.object({\n  username: z.string().min(3, { message: \"Username must be at least 3 characters long\" }),\n  email: z.string().email({ message: \"Invalid email address\" }),\n  password: z.string().min(8, { message: \"Password must be at least 8 characters long\" }),\n});\nexport type RegisterCredentials = z.infer<typeof RegisterCredentialsSchema>;\n\n// Plant table\nexport const plants = pgTable(\"plants\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull(),\n  name: text(\"name\").notNull(),\n  species: text(\"species\"),\n  imageUrl: text(\"image_url\"),\n  waterFrequency: integer(\"water_frequency\").notNull(), // in days\n  lightNeeds: text(\"light_needs\").notNull(),\n  careNotes: text(\"care_notes\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  lastWatered: timestamp(\"last_watered\"),\n});\n\nexport const insertPlantSchema = createInsertSchema(plants).pick({\n  userId: true,\n  name: true,\n  species: true,\n  imageUrl: true,\n  waterFrequency: true,\n  lightNeeds: true,\n  careNotes: true,\n});\n\n// Care log for tracking plant activities\nexport const careLogs = pgTable(\"care_logs\", {\n  id: serial(\"id\").primaryKey(),\n  plantId: integer(\"plant_id\").notNull(),\n  userId: integer(\"user_id\").notNull(),\n  activityType: text(\"activity_type\").notNull(), // watering, fertilizing, pruning, etc.\n  notes: text(\"notes\"),\n  performedAt: timestamp(\"performed_at\").defaultNow(),\n});\n\nexport const insertCareLogSchema = createInsertSchema(careLogs).pick({\n  plantId: true,\n  userId: true,\n  activityType: true,\n  notes: true,\n});\n\n// Reminders for plant care\nexport const reminders = pgTable(\"reminders\", {\n  id: serial(\"id\").primaryKey(),\n  plantId: integer(\"plant_id\").notNull(),\n  userId: integer(\"user_id\").notNull(),\n  reminderType: text(\"reminder_type\").notNull(), // watering, fertilizing, etc.\n  dueDate: timestamp(\"due_date\").notNull(),\n  completed: boolean(\"completed\").default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  completedAt: timestamp(\"completed_at\"),\n});\n\nexport const insertReminderSchema = createInsertSchema(reminders).pick({\n  plantId: true,\n  userId: true,\n  reminderType: true,\n  dueDate: true,\n});\n\n// AI recommendations\nexport const aiRecommendations = pgTable(\"ai_recommendations\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").notNull(),\n  plantId: integer(\"plant_id\"),\n  title: text(\"title\").notNull(),\n  content: text(\"content\").notNull(),\n  tags: text(\"tags\").array(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().$onUpdate(() => new Date()),\n  read: boolean(\"read\").default(false),\n});\n\nexport const insertAiRecommendationSchema = createInsertSchema(aiRecommendations, {\n  // if you need to override any zod types, you can do it here\n  // e.g. tags: z.array(z.string()).nonempty(),\n}).omit({ \n  id: true, \n  createdAt: true, \n  updatedAt: true, \n  read: true // 'read' defaults to false, so not typically part of an initial insert\n});\n\n// Types\nexport type User = typeof users.$inferSelect;\nexport type InsertUser = typeof insertUserSchema._input; \n\nexport type Plant = typeof plants.$inferSelect;\nexport type InsertPlant = typeof insertPlantSchema._input; \n\nexport type CareLog = typeof careLogs.$inferSelect;\nexport type InsertCareLog = typeof insertCareLogSchema._input; \n\nexport type Reminder = typeof reminders.$inferSelect;\nexport type InsertReminder = typeof insertReminderSchema._input; \n\nexport type AiRecommendation = typeof aiRecommendations.$inferSelect;\nexport type InsertAiRecommendation = z.infer<typeof insertAiRecommendationSchema>; \n\n// Enums for frontend type safety\nexport const lightNeedsOptions = [\"low\", \"medium\", \"bright-indirect\", \"full-sun\"] as const;\nexport const activityTypeOptions = [\"watering\", \"fertilizing\", \"pruning\", \"repotting\", \"misting\"] as const;\nexport const reminderTypeOptions = [\"watering\", \"fertilizing\", \"pruning\", \"repotting\", \"other\"] as const;\n\nexport type LightNeeds = typeof lightNeedsOptions[number];\nexport type ActivityType = typeof activityTypeOptions[number];\nexport type ReminderType = typeof reminderTypeOptions[number];", "import { db } from './auth'; // Assuming db (Drizzle instance) is exported from auth.ts\nimport * as schema from '@shared/schema';\nimport { eq, and, desc, isNull } from 'drizzle-orm';\nimport { alias } from 'drizzle-orm/pg-core';\n\nexport const storage = {\n  // User operations (primarily for auth to fetch user, but could be expanded)\n  async getUserBySupabaseId(supabaseId: string): Promise<schema.User | null> {\n    const users = await db.select().from(schema.users).where(eq(schema.users.supabase_auth_id, supabaseId)).limit(1);\n    return users[0] || null;\n  },\n\n  // Plant operations\n  async getPlantsByUserId(userId: number): Promise<schema.Plant[]> {\n    return db.select().from(schema.plants).where(eq(schema.plants.userId, userId)).orderBy(desc(schema.plants.createdAt));\n  },\n\n  async getPlant(plantId: number): Promise<schema.Plant | null> {\n    const plants = await db.select().from(schema.plants).where(eq(schema.plants.id, plantId)).limit(1);\n    return plants[0] || null;\n  },\n\n  async createPlant(plantData: schema.InsertPlant): Promise<schema.Plant> {\n    const newPlants = await db.insert(schema.plants).values(plantData).returning();\n    return newPlants[0];\n  },\n\n  async updatePlant(plantId: number, plantData: Partial<schema.InsertPlant>): Promise<schema.Plant | null> {\n    // Ensure userId is not accidentally updated if present in plantData\n    const { userId, ...updateData } = plantData as any; \n    const updatedPlants = await db.update(schema.plants).set(updateData).where(eq(schema.plants.id, plantId)).returning();\n    return updatedPlants[0] || null;\n  },\n\n  async deletePlant(plantId: number): Promise<boolean> {\n    const result = await db.delete(schema.plants).where(eq(schema.plants.id, plantId)).returning({ id: schema.plants.id });\n    return result.length > 0;\n  },\n\n  // CareLog operations\n  async getCareLogsByPlantId(plantId: number): Promise<schema.CareLog[]> {\n    return db.select().from(schema.careLogs).where(eq(schema.careLogs.plantId, plantId)).orderBy(desc(schema.careLogs.performedAt));\n  },\n  \n  async getCareLogById(logId: number): Promise<schema.CareLog | null> {\n    const logs = await db.select().from(schema.careLogs).where(eq(schema.careLogs.id, logId)).limit(1);\n    return logs[0] || null;\n  },\n\n  async createCareLog(logData: schema.InsertCareLog): Promise<schema.CareLog> {\n    const newLogs = await db.insert(schema.careLogs).values(logData).returning();\n    return newLogs[0];\n  },\n\n  async updateCareLog(logId: number, logData: Partial<schema.InsertCareLog>): Promise<schema.CareLog | null> {\n    const { userId, plantId, ...updateData } = logData as any; // Prevent accidental update of foreign keys\n    const updatedLogs = await db.update(schema.careLogs).set(updateData).where(eq(schema.careLogs.id, logId)).returning();\n    return updatedLogs[0] || null;\n  },\n\n  async deleteCareLog(logId: number): Promise<boolean> {\n    const result = await db.delete(schema.careLogs).where(eq(schema.careLogs.id, logId)).returning({ id: schema.careLogs.id });\n    return result.length > 0;\n  },\n\n  // Reminder operations\n  async getRemindersByPlantId(plantId: number): Promise<schema.Reminder[]> {\n    return db.select().from(schema.reminders).where(eq(schema.reminders.plantId, plantId)).orderBy(schema.reminders.dueDate);\n  },\n  \n  async getRemindersByUserId(userId: number): Promise<schema.Reminder[]> {\n    // This requires a join if reminders don't directly have userId, or if you only want reminders for user's plants\n    // Assuming reminders have userId as per schema for simplicity in routes.ts\n    // If schema.reminders.userId exists:\n     return db.select().from(schema.reminders).where(eq(schema.reminders.userId, userId)).orderBy(schema.reminders.dueDate);\n    // If not, and you need to join through plants:\n    // const plantAlias = alias(schema.plants, 'p');\n    // return db.selectDistinctOn([schema.reminders.id], { ...schema.reminders })\n    //   .from(schema.reminders)\n    //   .innerJoin(plantAlias, eq(schema.reminders.plantId, plantAlias.id))\n    //   .where(eq(plantAlias.userId, userId))\n    //   .orderBy(schema.reminders.dueDate);\n  },\n\n  async getReminderById(reminderId: number): Promise<schema.Reminder | null> {\n    const reminders = await db.select().from(schema.reminders).where(eq(schema.reminders.id, reminderId)).limit(1);\n    return reminders[0] || null;\n  },\n\n  async createReminder(reminderData: schema.InsertReminder): Promise<schema.Reminder> {\n    const newReminders = await db.insert(schema.reminders).values(reminderData).returning();\n    return newReminders[0];\n  },\n\n  async updateReminder(reminderId: number, reminderData: Partial<schema.InsertReminder>): Promise<schema.Reminder | null> {\n    const { userId, plantId, ...updateData } = reminderData as any; // Prevent accidental update of foreign keys\n    const updatedReminders = await db.update(schema.reminders).set(updateData).where(eq(schema.reminders.id, reminderId)).returning();\n    return updatedReminders[0] || null;\n  },\n\n  async deleteReminder(reminderId: number): Promise<boolean> {\n    const result = await db.delete(schema.reminders).where(eq(schema.reminders.id, reminderId)).returning({ id: schema.reminders.id });\n    return result.length > 0;\n  },\n\n  // AI Recommendation operations\n  async getAiRecommendationsByPlantId(plantId: number): Promise<schema.AiRecommendation[]> {\n    return db.select().from(schema.aiRecommendations).where(eq(schema.aiRecommendations.plantId, plantId)).orderBy(desc(schema.aiRecommendations.createdAt));\n  },\n  \n  async getAiRecommendationsByUserId(userId: number): Promise<schema.AiRecommendation[]> {\n    return db.select().from(schema.aiRecommendations).where(eq(schema.aiRecommendations.userId, userId)).orderBy(desc(schema.aiRecommendations.createdAt));\n  },\n\n  async getAiRecommendationById(recommendationId: number): Promise<schema.AiRecommendation | null> {\n    const recommendations = await db.select().from(schema.aiRecommendations).where(eq(schema.aiRecommendations.id, recommendationId)).limit(1);\n    return recommendations[0] || null;\n  },\n\n  async createAiRecommendation(recommendationData: schema.InsertAiRecommendation): Promise<schema.AiRecommendation> {\n    // Explicitly parse to ensure conformity and catch errors early\n    const validatedData = schema.insertAiRecommendationSchema.parse(recommendationData);\n    const newRecommendations = await db.insert(schema.aiRecommendations).values(validatedData).returning();\n    return newRecommendations[0];\n  },\n\n  async updateAiRecommendationReadStatus(recommendationId: number, isRead: boolean): Promise<schema.AiRecommendation | null> {\n    const updatedRecommendations = await db.update(schema.aiRecommendations)\n      .set({ read: isRead })\n      .where(eq(schema.aiRecommendations.id, recommendationId))\n      .returning();\n    return updatedRecommendations[0] || null;\n  },\n\n  async deleteAiRecommendation(recommendationId: number): Promise<boolean> {\n    const result = await db.delete(schema.aiRecommendations).where(eq(schema.aiRecommendations.id, recommendationId)).returning({ id: schema.aiRecommendations.id });\n    return result.length > 0;\n  },\n  \n  // UserSettings Operations (assuming schema.userSettings exists)\n  // NB: The following UserSettings functions are commented out because schema.userSettings \n  // and schema.insertUserSettingSchema are not yet defined in shared/schema.ts.\n  // Please define them in your schema and uncomment these functions when ready.\n  /*\n  async getUserSettings(userId: number): Promise<schema.UserSetting | null> {\n    // Check if userSettings table exists in your schema.ts, if not, this will fail.\n    // Example: export const userSettings = pgTable(\"user_settings\", { userId: integer('user_id').primaryKey().references(() => users.id), ... });\n    if (!schema.userSettings) {\n        console.warn('schema.userSettings is not defined. Skipping getUserSettings.');\n        return null;\n    }\n    const settings = await db.select().from(schema.userSettings).where(eq(schema.userSettings.userId, userId)).limit(1);\n    return settings[0] || null;\n  },\n\n  async updateUserSettings(userId: number, settingsData: Partial<schema.InsertUserSetting>): Promise<schema.UserSetting | null> {\n    if (!schema.userSettings || !schema.insertUserSettingSchema) { // Also check for insert schema if you have one\n        console.warn('schema.userSettings or its insert schema is not defined. Skipping updateUserSettings.');\n        return null;\n    }\n    // Upsert logic: Update if exists, insert if not.\n    const existingSettings = await this.getUserSettings(userId);\n    if (existingSettings) {\n      const updatedSettings = await db.update(schema.userSettings).set(settingsData).where(eq(schema.userSettings.userId, userId)).returning();\n      return updatedSettings[0] || null;\n    } else {\n      // Ensure all required fields for an insert are present or have defaults\n      const fullSettingsData = { ...settingsData, userId } as schema.InsertUserSetting; // Cast might be needed if types don't align perfectly\n      const newSettings = await db.insert(schema.userSettings).values(fullSettingsData).returning();\n      return newSettings[0] || null;\n    }\n  }\n  */\n};\n", "// Plant care information database\nconst plantCareDatabase = {\n  default: {\n    content: `\n# General Plant Care Guide\n\n## Watering\n- Most houseplants prefer to dry out slightly between waterings\n- Check the top 1-2 inches of soil; water when dry\n- Reduce watering in winter, increase in summer\n- Use room temperature water to avoid shocking roots\n\n## Light\n- Most houseplants prefer bright, indirect light\n- Avoid direct sunlight which can scorch leaves\n- Rotate plants regularly to ensure even growth\n- Signs of insufficient light: leggy growth, small leaves\n- Signs of too much light: scorched leaves, dry soil\n\n## Soil & Fertilizing\n- Use well-draining potting mix appropriate for your plant type\n- Fertilize during growing season (spring-summer) only\n- Dilute fertilizer to half-strength to prevent burning\n- Repot when plant becomes root-bound (usually every 1-2 years)\n\n## Common Issues\n- Yellow leaves: Usually indicates overwatering\n- Brown leaf tips: Often due to dry air or mineral buildup\n- Pests: Check regularly for spider mites, mealybugs, and scale\n- Root rot: Caused by overwatering, repot in fresh soil if caught early\n\n## Seasonal Care\n- Reduce watering and stop fertilizing in winter\n- Increase humidity around plants in winter if using indoor heating\n- Clean leaves regularly to remove dust and help plants photosynthesize\n- Use a humidifier or pebble tray for tropical plants\n`,\n    tags: [\"watering\", \"light\", \"fertilizing\", \"seasonal care\", \"pests\"]\n  },\n  \n  // Common houseplants\n  \"monstera\": {\n    content: `\n# Monstera Deliciosa Care Guide\n\n## Watering\n- Allow the top 2-3 inches of soil to dry out between waterings\n- Water thoroughly until water flows from drainage holes\n- Reduce watering in winter when growth slows\n- Water approximately once every 1-2 weeks, adjusting based on conditions\n\n## Light\n- Thrives in medium to bright indirect light\n- Can tolerate some direct morning sunlight\n- Avoid harsh afternoon sun which can burn leaves\n- Fenestration (leaf holes) will not develop properly in low light\n\n## Soil & Fertilizing\n- Use a well-draining, chunky aroid mix\n- Mix in perlite, orchid bark, and charcoal for better drainage\n- Fertilize monthly during growing season (spring-summer) with balanced liquid fertilizer\n- Do not fertilize in winter when growth is minimal\n\n## Common Issues\n- Yellow leaves: Usually indicates overwatering\n- Brown leaf edges: Low humidity or inconsistent watering\n- Lack of fenestration: Insufficient light or immature plant\n- Pests: Check for spider mites and scale, especially under leaves\n\n## Pruning & Support\n- Provide a moss pole or trellis for climbing as the plant matures\n- Prune to control size and remove damaged leaves\n- Can be propagated easily from stem cuttings with nodes\n\n## Humidity & Temperature\n- Prefers humidity levels of 60% or higher\n- Use a humidifier or pebble tray to increase humidity\n- Keep away from cold drafts and maintain temperatures between 65-85\u00B0F\n`,\n    tags: [\"watering\", \"light\", \"humidity\", \"propagation\", \"fertilizing\"]\n  },\n  \n  \"pothos\": {\n    content: `\n# Pothos (Epipremnum aureum) Care Guide\n\n## Watering\n- Allow soil to dry out halfway before watering\n- Very tolerant of inconsistent watering\n- More susceptible to overwatering than underwatering\n- Water approximately every 1-2 weeks\n\n## Light\n- Adaptable to various light conditions\n- Grows best in medium to bright indirect light\n- Can tolerate low light but growth will be slower\n- Variegated varieties need brighter light to maintain patterns\n\n## Soil & Fertilizing\n- Use a standard well-draining potting mix\n- Fertilize lightly every 2-3 months during growing season\n- No need to fertilize in winter\n- Repot every 2-3 years or when root-bound\n\n## Common Issues\n- Yellow leaves: Typically overwatering\n- Brown spots: Often sunburn or cold damage\n- Leggy growth: Insufficient light\n- Very resilient to pests but occasionally gets mealybugs\n\n## Propagation\n- Extremely easy to propagate from stem cuttings\n- Can root in water or directly in soil\n- Each cutting should have at least one node\n- Root development takes 2-4 weeks in water\n\n## Special Notes\n- Perfect for beginners due to high tolerance for neglect\n- Effective air purifier for indoor spaces\n- Toxic to pets if ingested\n- Can be trained to climb or trail from hanging baskets\n`,\n    tags: [\"watering\", \"light\", \"propagation\", \"beginner-friendly\", \"air-purifying\"]\n  },\n  \n  \"snake plant\": {\n    content: `\n# Snake Plant (Sansevieria) Care Guide\n\n## Watering\n- Very drought tolerant - water only when soil is completely dry\n- Water approximately once every 3-6 weeks\n- Reduce watering further in winter\n- Root rot from overwatering is the most common issue\n\n## Light\n- Extremely adaptable to different light conditions\n- Can survive in low light but grows best in medium to bright indirect light\n- Can tolerate some direct sunlight once acclimated\n- Variegated varieties need more light to maintain patterns\n\n## Soil & Fertilizing\n- Use well-draining cactus or succulent mix\n- Add extra perlite or sand for better drainage\n- Fertilize only 2-3 times per year during growing season\n- Use half-strength balanced fertilizer\n\n## Common Issues\n- Soft, mushy base: Overwatering leading to rot\n- Brown tips: Occasionally from fluoride in tap water\n- Wrinkled leaves: Underwatering (rare)\n- Rarely affected by pests, but can get spider mites in dry conditions\n\n## Special Features\n- Excellent air purifier, removes toxins and releases oxygen at night\n- Extremely low maintenance\n- Can be divided when root-bound to create new plants\n- Long-lived when properly cared for\n\n## Growth Patterns\n- Slow-growing but can live for decades\n- New leaves emerge from the soil as pointed spears\n- Can occasionally produce small, fragrant flowers on mature plants\n`,\n    tags: [\"drought-tolerant\", \"low-maintenance\", \"air-purifying\", \"watering\", \"light\"]\n  },\n  \n  \"fiddle leaf fig\": {\n    content: `\n# Fiddle Leaf Fig (Ficus lyrata) Care Guide\n\n## Watering\n- Allow top 2 inches of soil to dry between waterings\n- Water thoroughly until it drains from bottom\n- Consistent watering schedule is important\n- Reduce watering in winter months\n- Approximately once every 7-10 days during growing season\n\n## Light\n- Requires bright, indirect light\n- Can tolerate a few hours of direct morning sun\n- Rotate regularly for even growth\n- Keep away from hot, direct afternoon sun which can scorch leaves\n\n## Soil & Fertilizing\n- Use well-draining, high-quality potting mix\n- Add orchid bark or perlite to improve drainage\n- Fertilize monthly during growing season (spring-summer)\n- Use balanced liquid fertilizer diluted to half strength\n\n## Common Issues\n- Brown spots: Usually from overwatering or inconsistent watering\n- Leaf drop: Often due to stress from environmental changes\n- Yellowing leaves: Typically from overwatering\n- Susceptible to root rot if overwatered\n\n## Humidity & Temperature\n- Prefers moderate to high humidity (40-60%)\n- Keep away from drafts, heaters, and air conditioners\n- Maintain temperatures between c. 65-75\u00B0F\n- Mist leaves occasionally or use a humidifier in dry environments\n\n## Special Notes\n- Dislikes being moved and may drop leaves when relocated\n- Clean large leaves regularly with a damp cloth to remove dust\n- Can grow quite tall (6+ feet) when happy\n- New leaves emerge from the top in a reddish sheath\n`,\n    tags: [\"watering\", \"light\", \"humidity\", \"temperamental\", \"leaf health\"]\n  },\n  \n  \"peace lily\": {\n    content: `\n# Peace Lily (Spathiphyllum) Care Guide\n\n## Watering\n- Keep soil consistently moist but not soggy\n- Water when the top inch of soil feels dry\n- Very communicative plant - leaves will droop when thirsty\n- Use room temperature water to avoid shocking roots\n- Water about once a week, adjusting based on conditions\n\n## Light\n- Thrives in medium to low indirect light\n- Can tolerate fluorescent lighting, making it perfect for offices\n- Too much direct sun will scorch leaves\n- Insufficient light will reduce or prevent flowering\n\n## Soil & Fertilizing\n- Use rich, well-draining potting mix\n- Add organic matter like coco coir for moisture retention\n- Fertilize lightly every 6-8 weeks during growing season\n- Use balanced houseplant fertilizer at half strength\n\n## Flowers\n- Produces distinctive white \"flowers\" (actually modified leaves called spathes)\n- More likely to flower with proper care and sufficient light\n- Flowers can last for weeks or months\n- Remove spent flowers at the base when they turn green\n\n## Humidity & Air Purification\n- Prefers high humidity (50%+)\n- Excellent air purifier - removes common household toxins\n- Mist regularly or use a pebble tray to increase humidity\n- Keep away from cold drafts\n\n## Common Issues\n- Brown leaf tips: Usually from tap water minerals or low humidity\n- Yellow leaves: Typically from overwatering\n- No flowers: Often due to insufficient light\n- Very susceptible to spider mites in dry conditions\n\n## Toxicity\n- Contains calcium oxalate crystals\n- Toxic to pets and humans if ingested\n- Can cause irritation to mouth and digestive system\n`,\n    tags: [\"watering\", \"humidity\", \"air-purifying\", \"flowering\", \"low-light\"]\n  },\n  \n  \"zz plant\": {\n    content: `\n# ZZ Plant (Zamioculcas zamiifolia) Care Guide\n\n## Watering\n- Extremely drought tolerant thanks to rhizomatous roots\n- Allow soil to dry completely between waterings\n- Water approximately once every 3-4 weeks\n- Reduce further in winter to once every 6-8 weeks\n- More likely to die from overwatering than underwatering\n\n## Light\n- Highly adaptable to various light conditions\n- Grows well in low to bright indirect light\n- Avoid direct sunlight which can burn leaves\n- One of the best plants for low light conditions\n- Growth will be slower in lower light\n\n## Soil & Fertilizing\n- Use well-draining potting mix\n- Add extra perlite for better drainage\n- Fertilize only 2-3 times per year during growing season\n- Use balanced houseplant fertilizer at half strength\n\n## Growth Habits\n- Slow-growing but very long-lived\n- New stems emerge directly from the soil\n- Glossy, waxy leaves are naturally shiny without polish\n- Can grow to 2-3 feet tall and wide when mature\n\n## Special Features\n- Nearly indestructible - perfect for beginners\n- Can tolerate neglect for long periods\n- Excellent air purifier\n- Very rarely affected by pests or diseases\n\n## Propagation\n- Can be propagated from leaf cuttings (slow process)\n- Division of rhizomes when repotting is more reliable\n- Patience required as it's a slow grower\n\n## Toxicity\n- Contains calcium oxalate crystals\n- Toxic to pets and humans if ingested\n- Keep away from children and pets\n`,\n    tags: [\"drought-tolerant\", \"low-maintenance\", \"low-light\", \"air-purifying\", \"watering\"]\n  },\n  \n  \"aloe vera\": {\n    content: `\n# Aloe Vera Care Guide\n\n## Watering\n- Water deeply but infrequently\n- Allow soil to dry completely between waterings\n- Water approximately every 3 weeks, less in winter\n- Signs of overwatering: soft, mushy leaves\n- Signs of underwatering: thin, curled leaves\n\n## Light\n- Prefers bright, indirect light\n- Can tolerate some direct sunlight when acclimated\n- Insufficient light causes leggy growth\n- South or west-facing window is ideal\n\n## Soil & Container\n- Use well-draining cactus or succulent mix\n- Add extra perlite or pumice for better drainage\n- Always use pots with drainage holes\n- Terracotta pots are excellent as they absorb excess moisture\n\n## Fertilizing\n- Fertilize sparingly - only 2-3 times per year\n- Use diluted succulent fertilizer in spring and summer\n- Do not fertilize in fall and winter\n\n## Medicinal Properties\n- Gel from leaves has soothing properties for minor burns and skin irritations\n- Harvest by cutting outer mature leaves at the base\n- Split leaf lengthwise to access the gel\n- Fresh gel is most effective\n\n## Propagation\n- Produces offsets (\"pups\") around the base\n- Carefully separate pups when they're a few inches tall\n- Allow cut end to callus for 1-2 days before planting\n- Water sparingly until established\n\n## Common Issues\n- Brown, mushy roots: Overwatering\n- Brown, crispy leaf tips: Underwatering or too much direct sun\n- Stretching/leaning: Insufficient light\n- Flat, thin leaves: Underwatering\n`,\n    tags: [\"medicinal\", \"drought-tolerant\", \"watering\", \"light\", \"propagation\"]\n  },\n  \n  \"orchid\": {\n    content: `\n# Phalaenopsis Orchid Care Guide\n\n## Watering\n- Water only when potting medium is dry\n- Run water through the pot for 15-30 seconds\n- Allow all water to drain completely\n- Never leave standing water in decorative pot\n- Water approximately once per week, less in winter\n\n## Light\n- Bright, indirect light is essential\n- East or shaded west window is ideal\n- Leaves should be bright green, not dark\n- Yellow leaves may indicate too much light\n- No leaf growth may indicate insufficient light\n\n## Growing Medium\n- Do not use regular potting soil\n- Use specialty orchid bark mix or sphagnum moss\n- Needs excellent airflow around roots\n- Repot every 1-2 years as medium breaks down\n\n## Humidity & Air Circulation\n- Prefers humidity of 50-70%\n- Use humidifier or pebble tray to increase humidity\n- Good air circulation prevents root rot\n- Avoid misting leaves as this can cause fungal issues\n\n## Fertilizing\n- \"Weekly, weakly\" approach - diluted fertilizer frequently\n- Use orchid-specific fertilizer at quarter strength\n- Do not fertilize when not in active growth\n- Flush medium monthly to prevent salt buildup\n\n## Blooming\n- Flowers last 2-3 months when cared for properly\n- After blooming, cut spike above node for potential reblooming\n- Cut at base if spike turns brown\n- Typically blooms 1-2 times per year\n- Temperature drop at night (10\u00B0F) can trigger blooming\n\n## Common Issues\n- Wrinkled leaves: Underwatering\n- Yellow, soft leaves: Overwatering\n- No blooms: Insufficient light or improper temperature range\n- Root rot: Visible as brown, mushy roots instead of plump, green ones\n`,\n    tags: [\"watering\", \"humidity\", \"flowering\", \"light\", \"air circulation\"]\n  },\n  \n  \"succulent\": {\n    content: `\n# General Succulent Care Guide\n\n## Watering\n- \"Soak and dry\" method - thorough watering then complete drying\n- Allow soil to dry completely between waterings\n- Water approximately every 2-3 weeks, much less in winter\n- Signs of overwatering: soft, mushy, translucent leaves\n- Signs of underwatering: wrinkled, shriveled leaves\n\n## Light\n- Most succulents need bright, direct light for at least 6 hours daily\n- South or west-facing windows are ideal\n- Insufficient light causes etiolation (stretching)\n- Some may need protection from intense afternoon sun\n- Colorful varieties need more light to maintain vibrant colors\n\n## Soil & Containers\n- Use specially formulated succulent/cactus soil\n- Add extra perlite, pumice, or coarse sand for better drainage\n- Always use pots with drainage holes\n- Terracotta pots are excellent as they wick away excess moisture\n- Shallow, wide pots often better than deep ones\n\n## Fertilizing\n- Fertilize sparingly during growing season (usually spring/summer)\n- Use diluted succulent/cactus fertilizer at half strength\n- Do not fertilize during dormant periods\n- Many succulents need little to no fertilizer\n\n## Propagation\n- Most propagate easily from leaves or stem cuttings\n- Allow cuttings to callus (dry) for 2-3 days before planting\n- Lay leaf cuttings on top of soil, don't bury\n- Root development can take weeks to months\n- Minimal watering until roots are established\n\n## Seasonal Care\n- Many succulents have seasonal growth patterns\n- Reduce water significantly in winter\n- Protect from frost as most are not cold-hardy\n- Watch for signs of dormancy (slowed growth)\n- Increase water gradually when active growth resumes\n\n## Common Varieties\n- Echeveria: Rosette-forming with powdery coating\n- Haworthia: Often striped, tolerates lower light\n- Sedum: Trailing or upright, very easy to propagate\n- Crassula (Jade): Tree-like growth, thick stems\n`,\n    tags: [\"drought-tolerant\", \"watering\", \"light\", \"propagation\", \"soil\"]\n  },\n  \n  \"fern\": {\n    content: `\n# Fern Care Guide\n\n## Watering\n- Keep soil consistently moist but not soggy\n- Never allow soil to dry out completely\n- Water when top inch of soil begins to feel dry\n- Use room temperature water to avoid shock\n- Increase watering frequency during hot, dry periods\n\n## Light\n- Prefer medium to low indirect light\n- Avoid direct sunlight which can scorch fronds\n- Too little light causes sparse, slow growth\n- North or east-facing windows are ideal\n- Can thrive under fluorescent lights\n\n## Humidity\n- High humidity is essential (50-70%+)\n- Use humidifier for best results\n- Pebble trays provide local humidity\n- Mist fronds in the morning, not evening\n- Grouping plants increases ambient humidity\n- Brown, crispy tips indicate insufficient humidity\n\n## Soil & Fertilizing\n- Use rich, organic potting mix with good moisture retention\n- Add peat moss or coco coir to improve moisture retention\n- Fertilize monthly during growing season (spring-summer)\n- Use balanced liquid fertilizer at half strength\n- Do not fertilize in winter\n\n## Pruning\n- Remove damaged or brown fronds at the base\n- Trim to shape sparingly\n- New fronds unfurl from the center of the plant\n- Leave old fronds until completely brown to allow nutrient reabsorption\n\n## Common Types\n- Boston Fern: Arching fronds, more tolerant of dry air\n- Bird's Nest Fern: Wavy, tongue-like fronds, less demanding\n- Maidenhair Fern: Delicate, requires consistent moisture\n- Staghorn Fern: Epiphytic, can be mounted on boards\n- Button Fern: Compact, withstands drier conditions\n\n## Common Issues\n- Brown fronds: Usually from low humidity or inconsistent watering\n- Yellowing fronds: Often overwatering or poor drainage\n- Pest susceptibility: Check for spider mites in dry conditions\n- Sparse growth: Typically from insufficient light\n`,\n    tags: [\"humidity\", \"watering\", \"indirect light\", \"moisture\", \"tropical\"]\n  },\n  \n  \"cactus\": {\n    content: `\n# Cactus Care Guide\n\n## Watering\n- Water sparingly - only when soil is completely dry\n- During growing season, water approximately every 2-4 weeks\n- In winter dormancy, reduce to once every 6-8 weeks or less\n- \"Soak and dry\" method - thorough watering, then complete drying\n- Always err on the side of underwatering\n\n## Light\n- Most cacti need bright, direct sunlight\n- Minimum 4-6 hours of direct sun daily\n- South or west-facing windows are ideal\n- Rotate regularly for even growth\n- Inadequate light causes weak, etiolated growth\n- Acclimate gradually to outdoor summer sun to prevent sunburn\n\n## Soil & Containers\n- Extremely well-draining soil is essential\n- Commercial cactus mix or regular potting soil with 50% added perlite\n- Always use pots with drainage holes\n- Unglazed terracotta pots are ideal for wicking away moisture\n- Choose pots only slightly larger than the plant\n\n## Fertilizing\n- Fertilize sparingly during active growth (spring/summer)\n- Use cactus-specific fertilizer at half strength\n- Never fertilize in winter or when dormant\n- Excessive fertilizer can cause weak, unsightly growth\n\n## Seasonal Care\n- Most cacti have winter dormancy period\n- Reduce water and stop fertilizing during dormancy\n- Some may need cooler temperatures to initiate blooming\n- Gradually resume normal care when growth continues in spring\n\n## Handling & Safety\n- Always use thick gloves or folded newspaper when handling\n- Some have nearly invisible glochids (hair-like spines)\n- Long tweezers or tongs can help with repotting\n- Keep away from children and pets\n\n## Common Issues\n- Soft, mushy stems: Almost always from overwatering\n- Corky scars: Normal aging process in many species\n- Lack of growth: Normal during dormancy or insufficient light\n- Shriveling: Underwatering (rare) or root problems\n- Pests: Watch for mealybugs and scale insects\n`,\n    tags: [\"drought-tolerant\", \"light\", \"watering\", \"dormancy\", \"desert plants\"]\n  },\n  \n  \"calathea\": {\n    content: `\n# Calathea/Maranta (Prayer Plant) Care Guide\n\n## Watering\n- Keep soil consistently moist but not soggy\n- Water when top inch of soil begins to dry\n- Use only filtered, distilled or rainwater\n- Extremely sensitive to fluoride and chlorine in tap water\n- Water approximately once per week, adjusting to conditions\n\n## Light\n- Bright, indirect light is ideal\n- Protect from direct sunlight which can fade patterns\n- Too little light causes patterns to fade and reduced leaf movement\n- North or east-facing windows work well\n- Can tolerate moderate low light but will show reduced growth\n\n## Humidity\n- Requires high humidity (60%+)\n- Use humidifier for best results\n- Pebble trays provide some local humidity\n- Regular misting helps but isn't sufficient alone\n- Group with other plants to create humid microclimate\n- Brown leaf edges indicate insufficient humidity\n\n## Soil & Fertilizing\n- Rich, well-draining potting mix\n- Add peat moss or coco coir for moisture retention\n- Fertilize monthly during growing season only\n- Use balanced liquid fertilizer at quarter to half strength\n- Flush soil every few months to prevent mineral buildup\n\n## Unique Features\n- Nyctinasty - leaves fold up at night (prayer-like movement)\n- Vibrant patterns and colors vary by species\n- Common varieties: Calathea orbifolia, C. medallion, Maranta leuconeura\n- Sensitive to environmental changes and drafts\n\n## Common Issues\n- Crispy brown edges: Low humidity or mineral buildup from tap water\n- Curling leaves: Underwatering or low humidity\n- Yellowing leaves: Overwatering or direct sunlight\n- Fading patterns: Too much light or aging leaves\n- Spider mites: Common pest, especially in dry conditions\n- Leaf not moving/opening: Low light or underwatering\n`,\n    tags: [\"humidity\", \"leaf pattern\", \"filtered water\", \"tropical\", \"prayer plant\"]\n  }\n};\n\n// Helper function to provide advice for common issues\nfunction getIssueAdvice(issue: string, plantType?: string): string {\n  const issueLower = issue.toLowerCase();\n  \n  // Check for common issues\n  if (issueLower.includes('yellow') && (issueLower.includes('leaf') || issueLower.includes('leaves'))) {\n    return `Yellow leaves are most commonly caused by overwatering. Ensure you're allowing the soil to dry appropriately between waterings. Check that your pot has proper drainage and that water isn't collecting in the saucer.\n    \nOther potential causes include:\n- Nutrient deficiency (especially nitrogen)\n- Too much direct sunlight\n- Pest infestation (check under leaves for insects)\n- Natural aging (if only affecting older, lower leaves)\n\nFor your specific plant, reduce watering frequency and monitor for improvement over the next 2-3 weeks.`;\n  }\n  \n  if (issueLower.includes('brown') && (issueLower.includes('tip') || issueLower.includes('edge'))) {\n    return `Brown leaf tips or edges most commonly indicate low humidity or inconsistent watering. This is especially common with tropical plants.\n\nTry these solutions:\n- Increase humidity around your plant (use a humidifier or pebble tray)\n- Use filtered water instead of tap water (minerals in tap water can cause browning)\n- Maintain a more consistent watering schedule\n- Ensure the plant isn't near heating vents or drafty windows\n\nThe existing brown areas won't return to green, but new growth should be healthy once the environment is adjusted.`;\n  }\n  \n  if (issueLower.includes('drooping') || issueLower.includes('wilting')) {\n    return `Drooping or wilting leaves typically indicate either underwatering or overwatering:\n\nIf the soil is dry several inches down:\n- Your plant needs water immediately\n- Consider increasing watering frequency slightly\n- Ensure water is penetrating through all the soil, not just running down the sides of the pot\n\nIf the soil is still moist:\n- You may be overwatering, causing root stress\n- Allow the soil to dry out more between waterings\n- Check that the pot has proper drainage\n- Look for signs of root rot (dark, mushy roots with an unpleasant smell)\n\nRecovery from severe wilting can take time, so be patient after adjusting your care routine.`;\n  }\n  \n  if (issueLower.includes('spots')) {\n    if (issueLower.includes('brown') || issueLower.includes('black')) {\n      return `Brown or black spots on leaves can be caused by several issues:\n\nFungal infection:\n- Remove affected leaves\n- Improve air circulation around the plant\n- Avoid getting water on the leaves when watering\n- Consider a fungicide if the problem persists\n\nBacterial infection:\n- Isolate the plant from others\n- Remove and dispose of affected leaves\n- Avoid misting or overhead watering\n- Ensure good air circulation\n\nSunburn:\n- Move plant away from direct, intense sunlight\n- Provide filtered light instead\n\nWater spots:\n- If spots appear after watering, minerals in your water may be causing damage\n- Consider using filtered or distilled water`;\n    }\n    \n    if (issueLower.includes('white') || issueLower.includes('powder')) {\n      return `White spots or powdery substance on leaves typically indicates powdery mildew or a pest infestation:\n\nPowdery mildew (fungal infection):\n- Improve air circulation around the plant\n- Reduce humidity around the foliage (while maintaining appropriate humidity for the plant type)\n- Remove severely affected leaves\n- Apply a fungicide specifically formulated for powdery mildew\n\nPest infestation (likely mealybugs or scale):\n- Isolate the plant from others\n- Wipe leaves with a cotton swab dipped in 70% isopropyl alcohol\n- For serious infestations, treat with insecticidal soap or neem oil\n- Repeat treatments weekly until resolved`;\n    }\n  }\n  \n  if (issueLower.includes('stretching') || issueLower.includes('leggy')) {\n    return `Stretching or leggy growth almost always indicates insufficient light. Plants naturally grow toward light sources and will become elongated when trying to reach adequate light.\n\nSolutions:\n- Move your plant to a brighter location\n- Rotate the plant regularly to encourage even growth\n- Consider supplemental grow lights if adequate natural light isn't available\n- For severely leggy plants, pruning may encourage fuller growth once lighting is corrected\n\nOnce in better light, new growth should be more compact, but the stretched portions won't revert to a more compact form.`;\n  }\n  \n  if (issueLower.includes('pest') || issueLower.includes('bug') || issueLower.includes('insect')) {\n    return `For pest infestations, proper identification is key to effective treatment:\n\nCommon houseplant pests and treatments:\n\nSpider mites:\n- Tiny spider-like pests that cause stippling on leaves; may create fine webbing\n- Increase humidity (they prefer dry conditions)\n- Spray plants with water to dislodge mites\n- Apply insecticidal soap or neem oil\n\nMealybugs:\n- White, cottony insects found in leaf joints and under leaves\n- Remove with cotton swab dipped in 70% isopropyl alcohol\n- Treat with insecticidal soap or neem oil\n\nScale:\n- Small, brown, shell-like insects that attach to stems and leaves\n- Physically remove with fingernail or cotton swab with alcohol\n- Treat with horticultural oil\n\nFungus gnats:\n- Small flying insects in the soil\n- Allow soil to dry thoroughly between waterings\n- Use sticky traps\n- Treat soil with BTI (Bacillus thuringiensis israelensis) products\n\nFor any pest treatment, repeat applications every 7-10 days for at least three treatments to break the life cycle.`;\n  }\n  \n  // If no specific issue was matched, provide general troubleshooting advice\n  return `For your issue regarding \"${issue}\", first observe these best practices:\n\n1. Examine the plant thoroughly, including stems, under leaves, and soil surface\n2. Consider recent changes in care, location, or environment\n3. Document the progression of symptoms with photos\n4. Isolate the plant if you suspect pests or disease\n\nGeneral troubleshooting steps:\n- Check watering habits (over or under watering is the most common issue)\n- Evaluate light conditions\n- Inspect for pests\n- Consider temperature and humidity levels\n- Look for signs of outgrowing current pot\n\nIf symptoms worsen or the plant's condition deteriorates rapidly, consider consulting with a local plant specialist or garden center.`;\n}\n\n// Helper function to provide advice based on the plant description\nfunction getDescriptionAdvice(description: string): string {\n  const descLower = description.toLowerCase();\n  let advice = '';\n  \n  // Environment advice\n  if (descLower.includes('window') || descLower.includes('light')) {\n    if (descLower.includes('south') || descLower.includes('west')) {\n      advice += `You mentioned a south or west-facing location, which typically provides bright or direct light. Monitor your plant for signs of sun stress (scorching or bleaching of leaves) especially during summer months when light is most intense. Consider a sheer curtain to filter the strongest midday and afternoon light.\\n\\n`;\n    } else if (descLower.includes('north') || descLower.includes('east')) {\n      advice += `Your north or east-facing location provides gentler light, which works well for many houseplants. If your plant shows signs of stretching toward the light, it may need a brighter spot or rotating regularly.\\n\\n`;\n    } else if (descLower.includes('low light') || descLower.includes('dark')) {\n      advice += `You've described a low light environment. Consider low-light tolerant plants like snake plants, ZZ plants, or pothos. Most flowering plants and those with variegated leaves will need brighter conditions to thrive. You might want to consider supplemental grow lights if natural light is limited.\\n\\n`;\n    }\n  }\n  \n  // Watering habits\n  if (descLower.includes('water') || descLower.includes('moist') || descLower.includes('dry')) {\n    if (descLower.includes('forget') || descLower.includes('busy')) {\n      advice += `Since you mentioned you sometimes forget to water or have a busy schedule, consider plants that tolerate irregular watering like succulents, ZZ plants, snake plants, or pothos. Setting calendar reminders or using a moisture meter can help establish a better watering routine.\\n\\n`;\n    } else if (descLower.includes('overwater') || descLower.includes('too much water')) {\n      advice += `You mentioned concerns about overwatering. Always check that soil is dry to the appropriate depth before watering again. Consider using pots with drainage holes and well-draining soil mixes. A moisture meter can be helpful for those who tend to overwater.\\n\\n`;\n    }\n  }\n  \n  // Home conditions\n  if (descLower.includes('humid') || descLower.includes('bathroom') || descLower.includes('kitchen')) {\n    advice += `Your description indicates a potentially humid environment. Plants like ferns, calatheas, and other tropical varieties would likely thrive in these conditions. If you're growing plants that prefer lower humidity, ensure good air circulation to prevent fungal issues.\\n\\n`;\n  } else if (descLower.includes('dry') || descLower.includes('heat') || descLower.includes('air conditioner')) {\n    advice += `Your home environment sounds like it may be on the drier side. Consider using a humidifier or pebble trays for humidity-loving plants. Plants like succulents, cacti, and snake plants will naturally do better in drier conditions.\\n\\n`;\n  }\n  \n  // Pet safety\n  if (descLower.includes('cat') || descLower.includes('dog') || descLower.includes('pet')) {\n    advice += `You mentioned having pets. It's important to verify that your plants are non-toxic to animals. Some pet-friendly options include spider plants, Boston ferns, areca palms, and calathea varieties. Avoid lilies, pothos, philodendrons, and many other common houseplants that can be toxic if ingested by pets.\\n\\n`;\n  }\n  \n  // If no specific description elements were matched\n  if (advice === '') {\n    advice = `Based on your description, continue to observe how your plant responds to its current care routine and environment. Make small adjustments as needed based on your plant's signals (leaf color, growth patterns, soil moisture). Taking progress photos every few weeks can help you track subtle changes in your plant's health and growth.`;\n  }\n  \n  return advice;\n}\n\n// Helper function to suggest watering frequency based on plant type\nexport function suggestWateringFrequency(plantName: string, plantSpecies?: string): number {\n  const normalizedPlantName = plantName.toLowerCase().trim();\n  const normalizedSpecies = plantSpecies ? plantSpecies.toLowerCase().trim() : '';\n  \n  // Default watering frequency (in days) if no match is found\n  const defaultFrequency = 7;\n  \n  // Create a combined search string\n  const searchString = `${normalizedPlantName} ${normalizedSpecies}`.toLowerCase();\n  \n  // Check for specific plant types with known watering frequencies\n  if (searchString.includes('monstera') || searchString.includes('deliciosa')) {\n    return 7; // Once every 7 days\n  }\n  \n  if (searchString.includes('fiddle leaf') || searchString.includes('ficus lyrata')) {\n    return 7; // Once every 7 days\n  }\n  \n  if (searchString.includes('pothos') || searchString.includes('epipremnum')) {\n    return 10; // Once every 10 days\n  }\n  \n  if (searchString.includes('snake plant') || searchString.includes('sansevieria')) {\n    return 21; // Once every 3 weeks\n  }\n  \n  if (searchString.includes('zz plant') || searchString.includes('zamioculcas')) {\n    return 21; // Once every 3 weeks\n  }\n  \n  if (searchString.includes('peace lily') || searchString.includes('spathiphyllum')) {\n    return 5; // Once every 5 days (likes consistently moist soil)\n  }\n  \n  if (searchString.includes('orchid') || searchString.includes('phalaenopsis')) {\n    return 7; // Once every 7 days\n  }\n  \n  if (searchString.includes('aloe') || searchString.includes('cactus') || \n      searchString.includes('succulent') || searchString.includes('haworthia')) {\n    return 14; // Once every 2 weeks\n  }\n  \n  if (searchString.includes('fern') || searchString.includes('calathea') || \n      searchString.includes('maranta') || searchString.includes('prayer plant')) {\n    return 3; // Every 3 days (likes humidity and moisture)\n  }\n  \n  return defaultFrequency;\n}\n\n// Get basic care instructions for a plant\nexport function getBasicCareInstructions(plantName: string, plantSpecies?: string | null): string {\n  const normalizedPlantName = plantName.toLowerCase().trim();\n  \n  // Look for specific plant matches in our database\n  const plantTypes = Object.keys(plantCareDatabase);\n  \n  // Try to find the best match\n  const matchingPlant = plantTypes.find(plant => \n    normalizedPlantName.includes(plant) || \n    (plantSpecies && plantSpecies.toLowerCase().includes(plant))\n  );\n  \n  if (matchingPlant && matchingPlant !== 'default') {\n    // Extract first few sections from the plant care database\n    const plantInfo = plantCareDatabase[matchingPlant as keyof typeof plantCareDatabase];\n    const content = plantInfo.content;\n    \n    // Extract introduction, watering, and light sections\n    const sections = content.split('##').slice(0, 3).join('##');\n    \n    // Replace plant name with the user's plant name\n    return sections.replace(\n      new RegExp(matchingPlant, 'gi'), \n      plantName\n    );\n  } else {\n    // Return generic care instructions\n    return `\n# Care Guide for ${plantName}${plantSpecies ? ` (${plantSpecies})` : ''}\n\n## Watering\n- Check the top 1-2 inches of soil; water when dry\n- Use room temperature water to avoid shocking roots\n- Adjust watering frequency based on season and environment\n\n## Light\n- Most houseplants prefer bright, indirect light\n- Avoid direct sunlight which can scorch leaves\n- Rotate plants regularly to ensure even growth\n`;\n  }\n}\n\nexport async function getAIRecommendation({\n  plantName,\n  plantSpecies,\n  careIssue,\n  plantDescription\n}: {\n  plantName: string;\n  plantSpecies?: string;\n  careIssue?: string;\n  plantDescription?: string;\n}) {\n  // No need to check for API key anymore since we're using our local database\n  \n  // Normalize the plant name for lookup\n  const normalizedPlantName = plantName.toLowerCase().trim();\n  \n  // Search for matching plant care information\n  let content = '';\n  let tags: string[] = [];\n  \n  // Look for exact matches or keywords in our database\n  const plantTypes = Object.keys(plantCareDatabase);\n  \n  // Try to find the best match\n  const matchingPlant = plantTypes.find(plant => \n    normalizedPlantName.includes(plant) || \n    (plantSpecies && plantSpecies.toLowerCase().includes(plant))\n  );\n  \n  if (matchingPlant && matchingPlant !== 'default') {\n    // Found a specific plant match\n    // Need to type-check when accessing plant care database\n    const plantInfo = plantCareDatabase[matchingPlant as keyof typeof plantCareDatabase];\n    content = plantInfo.content;\n    tags = plantInfo.tags;\n    \n    // Personalize the content with the user's plant name\n    content = content.replace(\n      new RegExp(matchingPlant, 'gi'), \n      plantName\n    );\n    \n    // If there's a care issue, add a note about it\n    if (careIssue) {\n      content += `\\n\\n## Specific Issue: ${careIssue}\\n`;\n      content += getIssueAdvice(careIssue, matchingPlant);\n    }\n  } else {\n    // Use default care information\n    content = plantCareDatabase.default.content;\n    tags = plantCareDatabase.default.tags;\n    \n    // Personalize with plant name\n    content = `# Care Guide for ${plantName}\\n` + content.substring(content.indexOf('\\n'));\n    \n    // Add note about specific plant variety if provided\n    if (plantSpecies) {\n      content = content.replace(\n        \"# Care Guide\", \n        `# Care Guide for ${plantName} (${plantSpecies})`\n      );\n    }\n    \n    // If there's a care issue, add a note about it\n    if (careIssue) {\n      content += `\\n\\n## Specific Issue: ${careIssue}\\n`;\n      content += getIssueAdvice(careIssue);\n    }\n  }\n  \n  // If there's a plant description, acknowledge it\n  if (plantDescription) {\n    content += `\\n\\n## Based on Your Description\\n`;\n    content += `You mentioned: \"${plantDescription}\"\\n\\n`;\n    content += getDescriptionAdvice(plantDescription);\n  }\n  \n  // Add a personalized note at the end\n  content += `\\n\\n---\\n\\nThis care guide is specifically tailored for your ${plantName}. Adjust recommendations based on your specific growing conditions and observe how your plant responds. Remember that each plant is unique, and care requirements may vary slightly based on your home environment.`;\n  \n  return {\n    content,\n    tags\n  };\n}\n\n// Helper function to extract meaningful tags from the AI response\nfunction extractTags(content: string): string[] {\n  const commonTags = [\n    \"watering\", \"light\", \"humidity\", \"fertilizing\", \"soil\", \n    \"temperature\", \"pests\", \"diseases\", \"propagation\", \"pruning\", \n    \"repotting\", \"leaf health\", \"root health\", \"seasonal care\"\n  ];\n  \n  const foundTags = commonTags.filter(tag => \n    content.toLowerCase().includes(tag.toLowerCase())\n  );\n  \n  // Limit to top 5 tags\n  return foundTags.slice(0, 5);\n}\n", "import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { fileURLToPath } from 'url'; \nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server as HttpServer } from \"http\"; \nimport viteConfigFromOriginalFile from \"../vite.config\"; \n\nconst viteLogger = createLogger();\n\nconst __filename_current_module = fileURLToPath(import.meta.url);\nconst __dirname_of_bundle = path.dirname(__filename_current_module); \nconst projectRoot = path.resolve(__dirname_of_bundle, '..'); \n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, httpServer: HttpServer) { \n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server: httpServer }, \n    allowedHosts: true as const,\n    fs: {\n      strict: false, \n    },\n  };\n\n  const configForViteServer = {\n    root: path.resolve(projectRoot, \"client\"),\n    resolve: {\n      alias: {\n        \"@\": path.resolve(projectRoot, \"client\", \"src\"),\n        \"@shared\": path.resolve(projectRoot, \"shared\"),\n        \"@assets\": path.resolve(projectRoot, \"attached_assets\"),\n      },\n    },\n\n    plugins: viteConfigFromOriginalFile.plugins, \n    server: {\n      ...viteConfigFromOriginalFile.server, \n      ...serverOptions, \n      fs: { \n          ...(viteConfigFromOriginalFile.server?.fs || {}),\n          ...serverOptions.fs,\n      }\n    },\n\n    configFile: false as const,\n    customLogger: {\n      ...viteLogger,\n      error: (msg: string, options?: { timestamp?: boolean; clear?: boolean; error?: Error | null; }) => {\n        viteLogger.error(msg, options); \n      },\n    },\n    appType: \"custom\" as const,\n  };\n\n  const vite = await createViteServer(configForViteServer);\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(projectRoot, \"client\", \"index.html\");\n\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(projectRoot, \"dist\", \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n", "import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport { fileURLToPath } from 'url';\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(__dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(__dirname, \"shared\"),\n      \"@assets\": path.resolve(__dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(__dirname, \"client\"),\n  server: {\n    fs: {\n      strict: false,\n    },\n  },\n  build: {\n    outDir: path.resolve(__dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n});\n"],
  "mappings": "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",
  "names": ["express", "db", "app", "eq", "users", "plants", "reminders", "z", "app", "plants", "careLogs", "reminders", "path", "fileURLToPath", "fileURLToPath", "path", "app", "express", "path"]
}
